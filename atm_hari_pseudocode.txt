Function Main
    While true
        Call initAccountName
        Call initAccountNumber
        Call initAccountPin
        Call initAccountBalance
        Output "Hello !!!"
        Output "please enter your account number : "
        Declare Integer accno

        Input accno
        Call checkaccexist(accno)
        If checkaccexist(accno)=true
            Declare Integer pin
            Declare Integer arrayno

            Call accnumber(accno)
            Assign arrayno = accnumber(accno)
            Call accname(arrayno)
            Declare Boolean testing

            Assign testing = true
            Declare Integer loop

            Assign loop = 0
            While testing=true
                Output "please input pin : "
                Input pin
                Call accpin(arrayno,pin)
                If accpin(arrayno,pin)= true
                    Declare Boolean innertesting

                    Assign innertesting = true
                    While innertesting=true
                        Declare Real amt

                        Assign amt = 0
                        Declare Real newbal
                        Declare Integer option

                        Output "Please choose the designated option : "
                        Output "option 1 : withdraw"
                        Output "option 2 : check balance"
                        Output "option 3 : change pin"
                        Output "option 4 : exit"
                        Input option
                        If option =1
                            Output "please enter the required amount : "
                            Input amt
                            Call withdraw(arrayno,amt)
                            Output "amount has been withdrawn"
                            Output "your new balance is "&withdraw(arrayno,amt)
                        End
                        If option=2
                            Call accbal(arrayno,0)
                            Output "your current balance is : " &accbal(arrayno,0)
                        End
                        If option = 3
                            Declare Integer newpin

                            Output "please enter you new pin : "
                            Input newpin
                            Call changepin(arrayno,newpin)
                        End
                        If option = 4
                            Assign innertesting = false
                        End
                    End
                    Assign testing = false
                Else
                    Output "the account pin is wrong. Please try again"
                End
            End
        Else
            Output "the account does not exist. Please try again"
        End
    End
End

Function accbal (Integer arrayno, Real amt)
    Declare Real newbal
    Declare Real Array bal[2]

    Assign bal[0] = 1000
    Assign bal[1] = 2000
    Assign newbal = bal[arrayno]-amt
    Assign bal[arrayno] = newbal
    Return Real newbal
End

Function accname (Integer arrayno)
    Declare String outputname
    Declare String Array name[2]

    Assign name[0] = "hari"
    Assign name[1] = "tejas"
    Assign outputname = name[arrayno]
    Output "hello "&outputname
End

Function accnumber (Integer accno)
    Declare Integer i
    Declare Integer m
    Declare Real Array no[2]

    Assign no[0] = 1234
    Assign no[1] = 4321
    For i = 0 to 1
        If accno == no[i]
            Assign m = i
        End
    End
    Return Integer m
End

Function accpin (Integer arrayno, Integer pin)
    Declare Integer m

    Assign m = arrayno
    Declare Boolean check

    Assign check = false
    Call storedpin(m,0)
    If storedpin(m,0)=pin
        Assign check = true
    End
    Return Boolean check
End

Function changepin (Integer arrayno, Integer newpin)
    Call storedpin(arrayno,newpin)
End

Function checkaccexist (Integer accno)
    Declare Integer i
    Declare Boolean statement
    Declare Real Array no[2]

    Assign no[0] = 1234
    Assign no[1] = 4321
    For i = 0 to 1
        If accno == no[i]
            Assign statement = true
        End
    End
    If statement = true
    Else
        Assign statement = false
    End
    Return Boolean statement
End

Function initAccountBalance
    Declare Integer Array accountB[5]

    Assign accountB[0] = 1000
    Assign accountB[1] = 2000
    Assign accountB[2] = 3000
    Assign accountB[3] = 4000
    Assign accountB[4] = 5000
End

Function initAccountName
    Declare String Array accountName[5]

    Assign accountName[0] = "Bar"
    Assign accountName[1] = "Joe"
    Assign accountName[2] = "Hari"
    Assign accountName[4] = "Pie"
    Assign accountName[4] = "Foo"
End

Function initAccountNumber
    Declare Integer Array accountNum[5]

    Assign accountNum[0] = 100
    Assign accountNum[1] = 101
    Assign accountNum[2] = 102
    Assign accountNum[3] = 103
    Assign accountNum[4] = 104
End

Function initAccountPin
    Declare Integer Array accountPin[5]

    Assign accountPin[0] = 0
    Assign accountPin[1] = 1
    Assign accountPin[2] = 2
    Assign accountPin[3] = 3
    Assign accountPin[4] = 4
End

Function storedpin (Integer arrayno, Integer newpin)
    Declare Integer return
    Declare Integer Array pin[2]

    Assign pin[0] = 0
    Assign pin[1] = 1
    Assign return = pin[arrayno]
    If newpin=0
    Else
        Assign pin[arrayno] = newpin
    End
    Return Integer return
End

Function withdraw (Integer arrayno, Real amt)
    Call accbal(arrayno,amt)
    Declare Real return

    Assign return = accbal(arrayno,amt)
    Return Real return
End
